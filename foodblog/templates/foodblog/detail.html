{% extends "./base.html" %}
{% load i18n %}

{% block title %}
        {{ options.logo_text }} | {{ post }}
{% endblock title %}

{% block sidebar %}
        <a href="javascript:void(0)" onclick="w3_close()"
        class="w3-bar-item w3-button">{% translate 'Close Menu' %}</a>
        <a href="{% url 'foodblog:index' %}" class="w3-bar-item w3-button">{% translate 'Home' %}</a>
        <a href="{% url 'foodblog:tagcloud' %}" onclick="w3_close()" class="w3-bar-item w3-button">{% translate "Tags" %}</a>

        {# include "./langswitcher.html" #}

{% endblock sidebar %}

{% block content %}
        <div class="w3-bar">
        {% for t in post.tags.all %}
                <a href="{% url 'foodblog:tag' slug=t.slug page=1 %}" class="w3-tag w3-margin-right w3-teal w3-text-white w3-hover-black w3-round w3-right no-under-line">{{ t.tag }}</a>
        {% endfor %}
        </div>
        <h1 class="w3-center">{{ post.title }}</h1>
        <div class="w3-container">
                {{ post.content|safe }}
        </div>
        <hr />
        {# Section of Comments #}

        {% if comments is not None %}

        <!-- Pagination -->
        <div class="w3-center w3-padding-32">
          <div class="w3-bar">

                {% if comments.comment_paginator %}
                        {% if comments.comment_current_page.has_previous %}
                        <a href="{% url 'foodblog:detail'  comments.comment_current_page.number|add:'-1'  %}" class="w3-bar-item w3-button w3-hover-black">«</a>
                        {% endif %}

                        {% for p in comments.comment_paginator.page_range %}
                        <a href="{% url 'foodblog:detail' p %}" class="w3-bar-item w3-button {% if p == comments.comment_current_page.number %} w3-black {% else %} w3-hover-black {% endif %}">{{ p }}</a>
                        {% endfor %}

                        {% if comments.comment_current_page.has_next %}
                        <a href="{% url 'foodblog:detail' comments.comment_current_page.number|add:'1' %}" class="w3-bar-item w3-button w3-hover-black">»</a>
                        {% endif %}
                {% endif %}
          </div>
        </div>
        {% endif %}

        {{ comment_form }}

{% endblock content %}

{% include './footer.html' %}
